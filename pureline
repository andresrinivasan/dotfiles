# Full example config for PureLine using default powerline symbols
# and custom 256 color
. ~/repos/pureline/configs/powerline_full_256col.conf

# function iterm2_mark_module {
#     if [ -n "$__last_color" ]; then
#         PS1+="$(section_end $__last_color 'Default')"
#     fi
#     PS1+="\[$(iterm2_prompt_mark)\]"
#     unset __last_color
# }

## Override supplied newline module to make it optional and integrate with iterm2 prompt
function maybe_newline_module {
    if [ $LINES -lt 25 ]; then
        return
    fi

    if [ -n "$__last_color" ]; then
        PS1+="$(section_end $__last_color 'Default')"
    fi
    PS1+="\n\[$(iterm2_prompt_mark)\]"
    unset __last_color
}

# All modules are enabled. Uncomment/comment to enable/disable a module
declare -a PL_MODULES=(
    # Module                Background  Foreground
    'time_module            MyLightGrey Black'
#    'battery_module         MyBlue      Black'
#    'user_module            MyLime      Black'
    'ssh_module             MyYellow    Black'
    'virtual_env_module     MyBlue      Black'
    'path_module            MyBlue      Black'
    'read_only_module       MyRed       White'
    'background_jobs_module MyPurple    White'
    'git_module             MyGreen     Black'
    'return_code_module     MyRed       White'
    'maybe_newline_module'
#    'iterm2_mark_module'
    'prompt_module          MyDarkGrey  White'
)

# Module Options
PL_PATH_TRIM=4             # 0 Full path, 1, Current, 2+ trim level
PL_SSH_SHOW_HOST=false

PL_SYMBOLS[ssh]="ùîñ"

